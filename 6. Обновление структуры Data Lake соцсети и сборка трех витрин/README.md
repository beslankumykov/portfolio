# Обновление структуры Data Lake соцсети и сборка трех витрин

В рамках проекта необходимо создать и автоматизировать три витрины данных внутри Data Lake.

## Витрина данных в разрезе пользователей
Атрибуты:
- user_id — идентификатор пользователя
- act_city — город, из которого было отправлено последнее сообщение
- home_city — последний город, в котором пользователь был дольше 27 дней
- travel_count — количество посещённых городов
- travel_array — список городов в порядке посещения
- local_time - местное время

Для определения города, где было совершено событие, используется список городов из файла geo.csv, а котором указаны координаты центров городов. Событие относится к тому городу, расстояние до которого наименьшее.

## Витрина данных в разрезе зон
Атрибуты:
- month — месяц расчёта
- week — неделя расчёта
- zone_id — идентификатор зоны (города)
- week_message — количество сообщений за неделю
- week_reaction — количество реакций за неделю
- week_subscription — количество подписок за неделю
- week_user — количество регистраций за неделю
- month_message — количество сообщений за месяц
- month_reaction — количество реакций за месяц
- month_subscription — количество подписок за месяц
- month_user — количество регистраций за месяц

В этой витрине вы учитываете не только отправленные сообщения, но и другие действия — подписки, реакции, регистрации (рассчитываются по первым сообщениям).

## Витрина данных с рекомендациями друзей
Атрибуты:
- user_left — первый пользователь
- user_right — второй пользователь
- processed_dttm — дата расчёта витрины
- zone_id — идентификатор зоны (города)
- local_time — локальное время

Если пользователи подписаны на один канал, ранее никогда не переписывались и расстояние между ними не превышает 1 км, то им обоим будет предложено добавить другого в друзья. Образовывается парный атрибут, который обязан быть уникальным.
